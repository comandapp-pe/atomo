<% content_for(:body_attributes) do %>
  data-turbo="false"
<% end %>

<div class="min-vh-100 d-flex flex-column">
  <%= render 'application/header' %>

  <main class="container p-4 flex-grow-1">
    <% if @category %>
      <h1 class="text-center mb-2"><%= @category.name %></h1>
    <% else %>
      <h1 class="text-center mb-2">Todas las plantillas</h1>
    <% end %>

    <nav class="nav d-flex justify-content-center py-2 mb-2">
      <%= link_to 'Todas las plantillas', products_path, class: 'text-decoration-none mx-2' %>

      <% Category.all.each do |category| %>
        <%= link_to category.name, products_path(category_id: category.id), class: 'text-decoration-none mx-2' %>
      <% end %>
    </nav>

    <div data-controller="empty-state">
      <div data-empty-state-target="emptyState">No hay plantillas disponibles.</div>

      <div id="all_products" class="row" data-controller="masonry">
        <%= render partial: 'products/product', collection: @products %>
      </div>
    </div>
  </main>

  <%= render 'application/footer' %>
</div>