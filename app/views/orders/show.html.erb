<%#= render 'application/flash' %>

<main class="container p-4">
  <h1 class="text-center">Carga de recursos para la orden #<%= @order.id %></h1>

  <p class="text-center">A las <strong><%= @order.created_at.in_time_zone('America/Lima').strftime('%Y/%m/%d - %H:%M') %></strong></p>

  <p class="text-center">Lee cuidadosamente las instrucciones para la carga de tu material.</p>

  <div class="card">
    <h2 class="card-header h5">Videos</h2>
    <div class="card-body border-bottom">
      <%= render partial: 'videos/form', locals: { order: @order } %>
    </div>

    <div class="card-body">
      <div data-controller="empty-state">
        <div data-empty-state-target="emptyState">La orden no tiene videos disponibles.</div>

        <div id="all-videos" class="row" data-controller="masonry">
          <%= render partial: 'videos/video', collection: @order.videos.filter(&:persisted?) %>
        </div>
      </div>
    </div>
  </div>

  <br>

  <div class="card">
    <div class="card-header h5">Fotos</div>

    <div class="card-body border-bottom">
      <%= render partial: 'photos/form', locals: { order: @order } %>
    </div>

    <div class="card-body">
      <div data-controller="empty-state">
        <div data-empty-state-target="emptyState">La orden no tiene fotos disponibles.</div>

        <div id="all_photos" class="row" data-controller="masonry">
          <%= render partial: 'photos/photo', collection: @order.photos.filter(&:persisted?) %>
        </div>
      </div>
    </div>
  </div>

  <br>

  <turbo-frame id="locutions" src="<%= order_locutions_path(@order) %>"></turbo-frame>

  <br>

  <turbo-frame id="fonts" src="<%= order_fonts_path(@order) %>"></turbo-frame>

  <br>

  <turbo-frame id="ideas" src="<%= order_ideas_path(@order) %>"></turbo-frame>

  <br>

  <turbo-frame id="phrases" src="<%= order_phrases_path(@order) %>"></turbo-frame>
</main>